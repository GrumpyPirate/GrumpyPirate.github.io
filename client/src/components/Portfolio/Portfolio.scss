@import 'core';

.portfolio {
  &__list {
    display: flex;
    flex-wrap: wrap;
    padding-top: rem(map-get($gutter-widths, xs) / 2);
    margin: 0 rem(map-get($gutter-widths, xs) / -4);

    // md up
    @include respond-up(md) {
      padding-top: rem(map-get($gutter-widths, md) / 2);
      margin: 0 rem(map-get($gutter-widths, md) / -4);
    }
  }

  &__list-item {
    flex: 1 1 calc(100% - #{map-get($gutter-widths, xs) / 2});
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    position: relative;
    text-align: left;
    border: solid (map-get($gutter-widths, xs) / 4) palette(theme-accent-2);
    border-style: none none solid;
    margin-right: map-get($gutter-widths, xs) / 4;
    margin-left: map-get($gutter-widths, xs) / 4;
    overflow: hidden;

    // xs only
    @include respond-only(xs) {
      margin-bottom: map-get($gutter-widths, xs) / 2;
    }

    // sm up
    @include respond-up(sm) {
      flex-basis: calc(50% - #{map-get($gutter-widths, xs) / 2});
      margin-right: map-get($gutter-widths, xs) / 4;
      margin-left: map-get($gutter-widths, xs) / 4;
      margin-bottom: map-get($gutter-widths, xs) / 2;
    }

    // md up
    @include respond-up(md) {
      flex-basis: calc(50% - #{map-get($gutter-widths, md) / 2});
      margin-right: map-get($gutter-widths, md) / 4;
      margin-left: map-get($gutter-widths, md) / 4;
      margin-bottom: map-get($gutter-widths, md) / 2;
    }

    // lg up
    @include respond-up(lg) {
      border-bottom-width: map-get($gutter-widths, md) / 4;
    }

    &:hover,
    &:focus {
      .portfolio__list-item__media {
        transform: scale(1.0625);
      }
    }

    &__media {
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      margin: 0;
      transition: transform $anim-dur ease;

      img {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
    }

    &__copy {
      $copy-padding: $grid-gutter-width-base / 2;
      position: relative;
      padding: 15vmax $copy-padding $copy-padding;
      color: palette(white);
      background-image: linear-gradient(
        to top,
        transparentize(palette(theme-dark), .2),
        transparentize(palette(theme-dark), .6) 40%,
        transparentize(palette(theme-dark), 1)
      );
      z-index: 1;
    }

    &__desc {
      margin-bottom: 0;
    }
  }
}
